-- IOS

LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;

ENTITY IOS IS
    PORT (
		SCLK : IN STD_LOGIC; 
		SDX : IN STD_LOGIC;
		notSS : IN STD_LOGIC;
		Fsh : IN STD_LOGIC; --> Fn -> fsh
		WrT : OUT STD_LOGIC; --> Wrt -> Prt
		Dout: OUT STD_LOGIC; --> Dout -> DId; Dout -> D
		WrL: OUT STD_LOGIC; --> wrl -> E	
		busy : OUT STD_LOGIC
END IOS;

ARCHITECTURE arq OF IOS IS

    COMPONENT serial_receiver
		PORT (s
			SDX : IN STD_LOGIC;
			SCLK : IN STD_LOGIC;
			notSS : IN STD_LOGIC;
			accept:  IN STD_LOGIC;
			D : OUT STD_LOGIC_VECTOR(9 DOWNTO 0);
			DXval : OUT STD_LOGIC;
			busy : OUT STD_LOGIC
		);
    END COMPONENT;

    COMPONENT dispatcher IS
		PORT (
			Fsh, Dval : IN STD_LOGIC;
			Din : IN STD_LOGIC_VECTOR(9 DOWNTO 0);
			Dout : OUT STD_LOGIC_VECTOR(7 downto 0);
			WrT, WrL : out std_logic;
			done : out std_logic
		);
    END COMPONENT;
	 
	 SIGNAL s_Fn, 
	 
BEGIN 

	u_serial_receiver : serial_receiver PORT MAP( 
		SCLK => SCLK,
		SDX => SDX,
		notSS => notSS,
		busy => busy
	);

	u_dispatcher : dispatcher PORT MAP(
		Fsh => s_Fn,
		WrT => WrT,
		Dout => Dout,
		WrL => WrL
	);
	
end arq;